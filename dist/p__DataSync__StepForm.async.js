(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{CwQm:function(t,e,a){"use strict";a.r(e),a.d(e,"default",function(){return O});var n,r,i,s=a("43Yg"),o=a.n(s),c=a("/tCh"),u=a.n(c),p=a("scpF"),d=a.n(p),m=a("O/V9"),l=a.n(m),f=a("8aBX"),h=a.n(f),S=(a("yPdm"),a("Al2M")),y=a("i9FB"),b=a.n(y),w=a("LneV"),g=a("0ZCk"),E=a.n(g),k=a("16fl"),C=a.n(k),v=a("qj9E"),M=(a("Xx6v"),a("60ST")),N=(a("O/cu"),a("2AvU"),a("zHco"),S["a"].Step),O=(n=Object(w["connect"])(function(t){var e=t.dataSyncNewMission;return{dataSyncNewMission:e}}),n((i=function(t){function e(){var t;return o()(this,e),t=d()(this,l()(e).call(this)),t.onChange=function(e){var a=t.props,n=a.dataSyncNewMission,r=a.dispatch,i=(n.sourceUuid,n.sinkUuid,n.modalType),s=n.processorUuid,o=n.isProcessorEdit;switch(e){case 0:r({type:"dataSyncNewMission/setCurrentStepAction",currentStep:e}),C.a.push({pathname:"dataOrigin"===i?"/dataTask/step-form/sourceType":"/dataDistribution/step-form/sourceType",params:{isRouterPush:!0}});break;case 1:""===s||"dataOrigin"!==i&&"dataDestination"!==i?o?(r({type:"dataSyncNewMission/setCurrentStepAction",currentStep:e}),C.a.push({pathname:"dataOrigin"===i?"/dataTask/step-form/config":"/dataDistribution/step-form/config",params:{isRouterPush:!0}})):"dataOrigin"===i?v["a"].prompt.error("\u8bf7\u9009\u62e9\u6570\u636e\u6e90\u7c7b\u578b\uff01"):v["a"].prompt.error("\u8bf7\u9009\u62e9\u6570\u636e\u76ee\u7684\u5730\u7c7b\u578b\uff01"):(r({type:"dataSyncNewMission/setCurrentStepAction",currentStep:e}),C.a.push({pathname:"dataOrigin"===i?"/dataTask/step-form/config":"/dataDistribution/step-form/config",params:{isRouterPush:!0}}));break;case 2:t.formRef?t.formRef.handleSubmit():(r({type:"dataSyncNewMission/setCurrentStepAction",currentStep:e}),C.a.push({pathname:"dataOrigin"===i?"/dataTask/step-form/rule":"/dataDistribution/step-form/rule",params:{isRouterPush:!0}}));break;case 3:r({type:"dataSyncNewMission/setCurrentStepAction",currentStep:e}),C.a.push({pathname:"dataOrigin"===i?"/dataTask/step-form/active":"/dataDistribution/step-form/active",params:{isRouterPush:!0}});break}},t.isEnabled=function(t,e){return!(t>=e-1&&t<=e+1)},t.state={currentStep:0},t.formRef=null,t}return h()(e,t),u()(e,[{key:"componentWillUnmount",value:function(){var t=this.props.dispatch;t({type:"dataSyncNewMission/setCurrentStepAction",currentStep:0})}},{key:"render",value:function(){var t=this,e=this.props,a=(e.location,e.children),n=e.dataSyncNewMission,r=(n.isSourceEdit,n.sourceUuid,n.currentStep),i=n.modalType,s=(n.formData,n.isProcessorEdit);return b.a.createElement(y["Fragment"],null,b.a.createElement(y["Fragment"],null,b.a.createElement(S["a"],{onChange:this.onChange,current:r,className:E.a.steps},b.a.createElement(N,{title:"dataDestination"===i?"\u9009\u62e9\u6570\u636e\u76ee\u7684\u5730\u7c7b\u578b":"\u9009\u62e9\u6570\u636e\u6e90\u7c7b\u578b",disabled:s||this.isEnabled(0,r)}),b.a.createElement(N,{title:"dataDestination"===i?"\u6570\u636e\u76ee\u7684\u5730\u914d\u7f6e":"\u6570\u636e\u6e90\u914d\u7f6e",disabled:this.isEnabled(1,r)}),b.a.createElement(N,{title:"\u914d\u7f6e\u89c4\u5219",disabled:this.isEnabled(2,r)}),b.a.createElement(N,{title:"\u6fc0\u6d3b",disabled:this.isEnabled(3,r)}))),b.a.createElement(y["Fragment"],null,1===r?b.a.createElement(M["default"],{wrappedComponentRef:function(e){return t.formRef=e}}):a))}}]),e}(y["PureComponent"]),r=i))||r)}}]);